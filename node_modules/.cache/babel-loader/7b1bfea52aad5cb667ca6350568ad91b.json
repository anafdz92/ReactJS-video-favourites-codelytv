{"ast":null,"code":"import _defineProperty from \"/home/anafdz92/Escritorio/reactjs-video-favourites-app-master/10/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/anafdz92/Escritorio/reactjs-video-favourites-app-master/10/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anafdz92/Escritorio/reactjs-video-favourites-app-master/10/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anafdz92/Escritorio/reactjs-video-favourites-app-master/10/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anafdz92/Escritorio/reactjs-video-favourites-app-master/10/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anafdz92/Escritorio/reactjs-video-favourites-app-master/10/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/anafdz92/Escritorio/reactjs-video-favourites-app-master/10/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/anafdz92/Escritorio/reactjs-video-favourites-app-master/10/src/components/Add.js\";\nimport React, { PureComponent } from \"react\";\nimport { addVideo } from '../api';\nimport PropTypes from 'prop-types';\n\nvar parseYoutubeUrl = function parseYoutubeUrl(url) {\n  var match = url.match(/[?&]([^=#]+)=([^&#]*)/);\n  return match && match[2];\n};\n\nvar Add =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(Add, _PureComponent);\n\n  function Add(props) {\n    var _this;\n\n    _classCallCheck(this, Add);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Add).call(this, props));\n    _this.state = {\n      hasError: false,\n      showSending: false,\n      title: '',\n      url: '',\n      text: ''\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Add, [{\n    key: \"handleChange\",\n    value: function handleChange(field) {\n      var _this2 = this;\n\n      return function (event) {\n        _this2.setState(_defineProperty({}, field, event.target.value));\n      };\n    }\n  }, {\n    key: \"validation\",\n    value: function validation(app) {\n      if (app.title.length > 0 && app.url.length > 0 && app.description.length > 2) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n      var onClose = this.props.onClose;\n      var token = parseYoutubeUrl(this.state.url || '');\n\n      if (this.validation(this.state) && token) {\n        this.setState({\n          showSending: true\n        });\n        addVideo({\n          title: this.state.title,\n          description: this.state.description,\n          url: this.state.url,\n          thumbnail: \"https://img.youtube.com/vi/\".concat(token, \"/maxresdefault.jpg\"),\n          embed: \"https://www.youtube.com/embed/\".concat(token)\n        }).then(onClose(true));\n      } else {\n        this.setState({\n          hasError: true\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          showSending = _this$state.showSending,\n          title = _this$state.title,\n          url = _this$state.url,\n          description = _this$state.description,\n          hasError = _this$state.hasError;\n      var onClose = this.props.onClose;\n      return React.createElement(\"div\", {\n        className: \"modal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"close\",\n        onClick: onClose(false),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"\\xD7\"), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \" Crear nuevo V\\xEDdeo \"), showSending && React.createElement(\"span\", {\n        className: \"success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \" Enviando .... \"), hasError && React.createElement(\"div\", {\n        className: \"error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \" Some fields are empty or contain an wrong values. \"), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"T\\xEDtulo\"), React.createElement(\"input\", {\n        type: \"text\",\n        value: title,\n        onChange: this.handleChange(\"title\"),\n        minLength: \"3\",\n        maxLength: \"200\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Url ejemplo: https://www.youtube.com/watch?v=t_gPxAeC3rc\"), React.createElement(\"input\", {\n        type: \"text\",\n        value: url,\n        onChange: this.handleChange(\"url\"),\n        minLength: \"3\",\n        maxLength: \"200\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Descripci\\xF3n\"), React.createElement(\"textarea\", {\n        value: description,\n        onChange: this.handleChange(\"description\"),\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"submit\",\n        onClick: this.handleSubmit,\n        value: \"Submit\",\n        disabled: showSending,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Add;\n}(PureComponent);\n\nAdd.propTypes = {\n  onClose: PropTypes.func.isRequired\n};\nexport default Add;","map":{"version":3,"sources":["/home/anafdz92/Escritorio/reactjs-video-favourites-app-master/10/src/components/Add.js"],"names":["React","PureComponent","addVideo","PropTypes","parseYoutubeUrl","url","match","Add","props","state","hasError","showSending","title","text","handleChange","bind","handleSubmit","field","event","setState","target","value","app","length","description","e","preventDefault","onClose","token","validation","thumbnail","embed","then","propTypes","func","isRequired"],"mappings":"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","sourcesContent":["import React, {PureComponent} from \"react\";\nimport { addVideo } from '../api';\nimport PropTypes from 'prop-types';\n\nconst parseYoutubeUrl = (url) => {\n    const match = url.match(/[?&]([^=#]+)=([^&#]*)/);\n    return match && match[2];\n};\n\nclass Add extends PureComponent {\n    constructor (props) {\n        super(props);\n        this.state = {\n            hasError: false,\n            showSending: false,\n            title:'',\n            url: '',\n            text:''\n        }\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n    handleChange (field) {\n        return (event) => {\n            this.setState({\n                [field]: event.target.value\n            })    \n        }\n    }\n\n    validation(app){\n        if(app.title.length > 0 &&  app.url.length > 0 && app.description.length > 2){\n            return true;\n        } else {\n            return false;\n        }\n    }\n    handleSubmit(e){\n        e.preventDefault();\n        const { onClose } = this.props;\n        const token = parseYoutubeUrl(this.state.url || '');\n        if(this.validation(this.state) && token){\n            this.setState({showSending:true})\n            addVideo({\n                title: this.state.title,\n                description: this.state.description,\n                url: this.state.url,\n                thumbnail: `https://img.youtube.com/vi/${token}/maxresdefault.jpg`,\n                embed: `https://www.youtube.com/embed/${token}`\n            }).then(onClose(true));\n        }else{\n            this.setState({\n                hasError:true\n            });\n        }\n    }\n\n    render() {\n        const { showSending, title, url, description, hasError} = this.state;\n        const {onClose} = this.props;\n        return (<div className=\"modal\">\n              <div className=\"modal-content\">\n                <span className=\"close\" onClick={onClose(false)}>&times;</span>\n                <h2> Crear nuevo Vídeo </h2>\n                { showSending && (<span className=\"success\"> Enviando .... </span> )}\n                { hasError && (<div className=\"error\"> Some fields are empty or contain an wrong values. </div>) }\n                <form>\n                    <label>Título</label>\n                    <input type=\"text\" value={title} onChange={this.handleChange(\"title\")} minLength=\"3\" maxLength=\"200\"  required/>\n                    <label>Url ejemplo: https://www.youtube.com/watch?v=t_gPxAeC3rc</label>\n                    <input type=\"text\" value={url} onChange={this.handleChange(\"url\")} minLength=\"3\" maxLength=\"200\"  required/>\n                    <label>Descripción</label>\n                    <textarea value={description} onChange={this.handleChange(\"description\")} required/>\n                    <input type=\"submit\" onClick={this.handleSubmit} value=\"Submit\" disabled={showSending}/>\n                </form>\n              </div>\n            </div>);\n    }\n}\n\nAdd.propTypes = {\n    onClose: PropTypes.func.isRequired\n};\n\nexport default Add;\n"]},"metadata":{},"sourceType":"module"}