{"ast":null,"code":"import _regeneratorRuntime from \"/home/anafdz92/Escritorio/reactjs-video-favourites-codelytv/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/anafdz92/Escritorio/reactjs-video-favourites-codelytv/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/anafdz92/Escritorio/reactjs-video-favourites-codelytv/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anafdz92/Escritorio/reactjs-video-favourites-codelytv/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/anafdz92/Escritorio/reactjs-video-favourites-codelytv/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anafdz92/Escritorio/reactjs-video-favourites-codelytv/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/anafdz92/Escritorio/reactjs-video-favourites-codelytv/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/anafdz92/Escritorio/reactjs-video-favourites-codelytv/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/anafdz92/Escritorio/reactjs-video-favourites-codelytv/src/components/List.js\";\nimport React, { Component } from 'react';\nimport { getVideos } from '../api';\nimport Loading from './Loading';\nimport Item from './Item';\nimport Add from './Add';\nimport Header from './Header';\n\nvar List =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(List, _Component);\n\n  function List(props) {\n    var _this;\n\n    _classCallCheck(this, List);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(List).call(this, props));\n    _this.state = {\n      isLoading: false,\n      videos: null,\n      error: null,\n      showAdd: false\n    };\n    _this.handleAdd = _this.handleAdd.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleCloseAdd = _this.handleCloseAdd.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(List, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var videos;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.setState({\n                  isLoading: true\n                }); // Promises example  \n                // getVideos()\n                //   .then(data => this.setState({ videos: data, isLoading: false }))\n                //   .catch(error => this.setState({ error, isLoading: false }));\n\n                _context.prev = 1;\n                _context.next = 4;\n                return getVideos();\n\n              case 4:\n                videos = _context.sent;\n                this.setState({\n                  videos: videos,\n                  isLoading: false\n                });\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](1);\n                this.setState({\n                  error: _context.t0,\n                  isLoading: false\n                });\n\n              case 11:\n                return _context.abrupt(\"return\", true);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 8]]);\n      }));\n\n      return function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"handleAdd\",\n    value: function handleAdd(e) {\n      e.preventDefault();\n      this.setState({\n        showAdd: true\n      });\n    }\n  }, {\n    key: \"handleCloseAdd\",\n    value: function handleCloseAdd(reload) {\n      var _this2 = this;\n\n      return function () {\n        if (reload) {\n          _this2.setState({\n            isLoading: true,\n            showAdd: false\n          });\n\n          getVideos().then(function (data) {\n            return _this2.setState({\n              videos: data,\n              isLoading: false,\n              showAdd: false\n            });\n          }).catch(function (error) {\n            return _this2.setState({\n              error: error,\n              isLoading: false,\n              showAdd: false\n            });\n          });\n        } else {\n          _this2.setState({\n            showAdd: false\n          });\n        }\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          videos = _this$state.videos,\n          isLoading = _this$state.isLoading,\n          error = _this$state.error;\n\n      if (isLoading) {\n        return React.createElement(Loading, {\n          message: \"Cargando ...\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        });\n      }\n\n      if (error) {\n        return React.createElement(\"p\", {\n          className: \"error\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, error.message);\n      }\n\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(Header, {\n        onClickAdd: this.handleAdd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"grid-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, videos && videos.map(function (video, i) {\n        return React.createElement(Item, {\n          key: i,\n          data: video,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        });\n      }))), this.state.showAdd && React.createElement(Add, {\n        onClose: this.handleCloseAdd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return List;\n}(Component);\n\nexport default List;","map":{"version":3,"sources":["/home/anafdz92/Escritorio/reactjs-video-favourites-codelytv/src/components/List.js"],"names":["React","Component","getVideos","Loading","Item","Add","Header","List","props","state","isLoading","videos","error","showAdd","handleAdd","bind","handleCloseAdd","setState","e","preventDefault","reload","then","data","catch","message","map","video","i"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { getVideos } from '../api';\nimport Loading from './Loading';\nimport Item from './Item';\nimport Add from './Add';\nimport Header from './Header';\nclass List extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      videos: null,\n      error:null,\n      showAdd: false\n    };\n    this.handleAdd = this.handleAdd.bind(this);\n    this.handleCloseAdd = this.handleCloseAdd.bind(this);\n  }\n  async componentDidMount() {\n    this.setState({ isLoading: true });\n    \n    // Promises example  \n    // getVideos()\n    //   .then(data => this.setState({ videos: data, isLoading: false }))\n    //   .catch(error => this.setState({ error, isLoading: false }));\n    \n    try{\n      const videos = await getVideos();\n      this.setState({ videos , isLoading: false });\n    } catch(error){\n      this.setState({ error, isLoading: false });\n    }\n    return true;\n  }\n  handleAdd(e) {\n    e.preventDefault();\n    this.setState({showAdd:true});\n  }\n  handleCloseAdd(reload){\n    return () => {\n      if(reload){\n        this.setState({ isLoading: true , showAdd:false});\n        getVideos().then(data => this\n          .setState({ videos: data, isLoading: false, showAdd:false }))\n          .catch(error => this.setState({ error, isLoading: false, showAdd:false }));\n      } else {\n        this.setState({ showAdd: false });\n      }\n    }\n  }\n  render() {\n    const { videos,  isLoading, error } = this.state;\n    if (isLoading) {\n      return <Loading message=\"Cargando ...\"/>;\n    }\n    if (error) {\n      return <p className=\"error\" >{error.message}</p>;\n    }\n    return (<React.Fragment>\n        <Header onClickAdd={this.handleAdd} />\n        <div className=\"container\">\n          <div className=\"grid-container\">\n              {\n                videos && videos.map((video,i) => {\n                  return (<Item key={i} data={video}/>)\n                })\n              }\n          </div>\n        </div>\n        { this.state.showAdd && (<Add onClose={this.handleCloseAdd}/>)}\n     </React.Fragment>);\n  }\n}\n\nexport default List;"]},"metadata":{},"sourceType":"module"}